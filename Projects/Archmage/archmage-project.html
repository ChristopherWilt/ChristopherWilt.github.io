<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archmage - Christopher Wilt</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="archmage-project.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <nav class="nav-dock">
        <a href="../../index.html" title="Home"><i class="fas fa-home"></i></a>
        <a href="../projects.html" title="Projects"><i class="fas fa-gamepad"></i></a>
        <a href="../../Resume/Backend_Systems_Engineer_WiltChristopher_Resume.pdf" target="_blank" title="Resume"><i class="fas fa-file-alt"></i></a>
    </nav>
    <div class="container column-layout">

        <header class="project-detail-header">
            <div class="header-left">
                <a href="../projects.html" class="back-arrow" aria-label="Back to projects">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <div class="header-title">
                    <h1>ARCHMAGE <span class="text-red">PROJECT</span></h1>
                    <p>Unity C# | UI Engineering | System Architecture</p>
                </div>
            </div>
            <div class="header-buttons" style="display: flex; gap: 15px;">
                <a href="https://gist.github.com/ChristopherWilt/8cf3f3be7aa834e1ab74531af9503bf7" target="_blank" class="btn-outline">VIEW CODE SNIPPET</a>
                <a href="https://www.youtube.com/watch?v=icEfuob_lrk" target="_blank" class="btn-outline">WATCH DEMO</a>
            </div>
        </header>

        <main>
            <h2>GAMEPLAY SYSTEMS DEMO</h2>
            <div class="demo-video-container">
                <iframe width="100%"
                        height="500"
                        src="https://www.youtube.com/embed/icEfuob_lrk"
                        title="YouTube video player"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        referrerpolicy="strict-origin-when-cross-origin"
                        allowfullscreen>
                </iframe>
            </div>

            <div class="content-grid">
                <article class="content-block">
                    <div class="text-content">
                        <h2>INTERFACE-DRIVEN <span class="text-red">INTERACTION</span></h2>
                        <p>
                            To decouple the player controller from world objects, I implemented an <strong>Interface-based Interaction System</strong> (`I_Interactable`).
                        </p>
                        <p>
                            The `Interactor` class utilizes <code>Physics.OverlapSphereNonAlloc</code> for garbage-collection-friendly detection. By checking for the interface rather than specific classes, the system is modular—allowing Chests, Doors, and NPCs to share unified input logic without hard dependencies.
                        </p>
                    </div>
                    <div class="image-content">
                        <img src="../../Images/Archmage/Archmage_Interaction.png" alt="Interaction System Logic">
                    </div>
                </article>
            </div>

            <div class="content-grid">
                <article class="content-block reverse">
                    <div class="text-content">
                        <h2>UI & <span class="text-red">EVENT SYSTEMS</span></h2>
                        <p>
                            I engineered a responsive Drag-and-Drop Inventory system by implementing Unity's Event Interfaces (`IBeginDragHandler`, `IDragHandler`, `IDropHandler`).
                        </p>
                        <p>
                            The system features complex slot logic where items intelligently snap to valid targets. I implemented an `EquippedSlot` class that not only accepts items but dynamically alters player stats—for example, equipping "Boots" immediately modifies the `PlayerMovement` speed.
                        </p>
                    </div>
                    <div class="image-content">
                        <img src="../../Images/Archmage/Archmage_UI_Drag.png" alt="Inventory Drag and Drop UI">
                    </div>
                </article>
            </div>

            <div class="content-grid">
                <article class="content-block">
                    <div class="text-content">
                        <h2>CORE <span class="text-red">ARCHITECTURE</span></h2>
                        <p>
                            The game's lifecycle is managed by a robust <strong>Singleton GameManager</strong>. This central system handles scene transitions, audio persistence, and global game states (Pause, Win, Lose).
                        </p>
                        <p>
                            I implemented a Coroutine-based "Message Log" system that queues in-game events (e.g., "Health Potion Used") and fades them out over time, ensuring the player receives feedback without cluttering the UI.
                        </p>
                    </div>
                    <div class="image-content">
                        <img src="../../Images/Archmage/Archmage_Architecture.png" alt="Game State Architecture">
                    </div>
                </article>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const allLinks = document.querySelectorAll('a');

            // Handle Link Clicks (Fade Out)
            allLinks.forEach(link => {
                link.addEventListener('click', function (event) {
                    const href = this.getAttribute('href');
                    // Don't fade for external links, mailto, or anchors
                    if (this.target === '_blank' || href.startsWith('mailto:') || href.startsWith('#')) {
                        return;
                    }
                    event.preventDefault();
                    document.body.classList.add('fade-out');
                    setTimeout(() => {
                        window.location.href = href;
                    }, 400);
                });
            });
        });

        // Handle "Back" Button (Force Fade In)
        window.addEventListener('pageshow', (event) => {
            // "pageshow" fires when the page is loaded OR restored from cache
            if (event.persisted) {
                document.body.classList.remove('fade-out');
            }
        });
    </script>
</body>
</html>